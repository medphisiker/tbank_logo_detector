# Общий подход к реализации проекта

Этапы разработки проекта:
1. Подготовка данных.
- собираем COCO-разметку полу-автоматически (VLM: Grounding DINO / Qwen2.5-VL → SAM)

Комбинация Grounding DINO (open-vocabulary zero-shot detector) + SAM даёт эффективную автоматическую разметку bounding box → маска (подходит для «быстро размечать большой датасет»). Это подход, описанный и использующийся в практике (Grounded-SAM / Grounding DINO + SAM для автоматической аннотации). 
arxiv.org
+1

Современные VLM (например Qwen2.5-VL) умеют выдавать нулевой-шот ббоксы по текстовому запросу и хорошо подходят для предложений аннотаций и фильтрации. Вы упомянули, что у вас есть OpenRouter → можно напрямую использовать Qwen2.5-VL для массовой автоматической разметки/фильтрации.

А что насчет DINOv3?

- дополняем синтетикой
- собираем данные запросами в интернете через поисковики (есть пример в FiftyOne)
- валлидируем данные (Как?)
Можно установить CVAT / Label Studio - размечать данные VLM и потом проверять разметку там на глаз.
Но долго. И требуется как то автоматически.
Делать правильность оценки по эмбедингам кропов и их визуализации?
Чтобы проверять что надетектили VLM и как кропы их детекция во что кластеризуются?
- как просить модели детектить только "шиты Тинькоффа" с разным цветом щита внутри?

Для исключения логотипов Tinkoff — добавляем пост-фильтр: мелкий классификатор на кропах + OCR/VLM-верификация. Автоматизация разметки и аннотации делаем zero-shot с последующей ручной выборочной валидацией в качестве валидационного набора.

2. Обучаем детекторную модель:
- baseline лёгкую и быструю детекторную модель (YOLOv8-11)
Экспортируем в ONNX/TensorRT
- какую то модель по агрессивнее возможно сделать детектор на базе ViT из DINOv3.

Для финальной модели — Ultralytics YOLOv8 даёт хорошее соотношение «скорость/точность», прост в экспорте (ONNX/TorchScript) и performant на T4 с FP16; много индустриальных примеров для logo detection с YOLOv8.

1. Сервис
- есть компонент с FastAPI на порту 8000 с эндпоинтом /detect.
- есть компонент с детекционной моделью

Идея развязать сервис детекции от сервиса с моделью.
Это позволит привязать наш сервис для приема запросов к любой модели которая общается по тому де протоколу.